var ImageLoader=function(a){var b={},c=".imlo_status-parent",d=function(a){var b=a.closest(c);a.addClass("loaded"),b.addClass("loaded")};return b.setStatus=!0,b.preloadImages=function(b,c){for(var d=a.Deferred(),e=0,f=function(){e++,e===b.length&&d.resolve()},g=0;g<b.length;g++){var h=b[g],i=new Image;i.src=h,imagesLoaded(i,f)}return c&&setTimeout(function(){e!==b.length&&console.log("preloadImages: timeout exceeded. Loaded:",e,"/",b.length),d.reject()},c),d.promise()},b.setLoadStatus=function(b){for(var c=a.Deferred(),e="0",f=function(a){return function(){d(a),e++,e===b.length&&c.resolve()}},g=0;g<b.length;g++){var h=b[g],i=a(h);imagesLoaded(h,f(i))}return c.promise()},b.loadImage=function(b){for(var c=a.Deferred(),e="0",f=function(a,f){return function(){a.append(f),d(a),e++,e===b.length&&c.resolve()}},g=0;g<b.length;g++){var h=a(b[g]),i=h.data("img"),j=h.data("srcset"),k=h.data("sizes"),l=a(document.createElement("img"));j&&k?(l.attr("srcset",j),l.attr("sizes",k)):l.attr("src",i),img=l[0],imagesLoaded(img,f(h,img))}return c.promise()},b.loadImageBg=function(b){for(var c=a.Deferred(),e="0",f=function(a,f){return function(){a.css("background-image",'url("'+f+'")'),d(a),e++,e===b.length&&c.resolve()}},g=0;g<b.length;g++){var h=a(b[g]),i=h.data("img"),j=new Image;j.src=i,imagesLoaded(j,f(h,i))}return c.promise()},b.initLoadStatus=function(c){c=c||a("body");var d=c.find(".imlo_loadstatus");return b.setLoadStatus(d)},b.initLoadImage=function(c){c=c||a("body");var d=c.find(".imlo_load");return b.loadImage(d)},b.initLoadImageBg=function(c){c=c||a("body");var d=c.find(".imlo_loadbg");return b.loadImageBg(d)},b.initAllLoading=function(a){var c=[];return c.push(b.initLoadStatus(a)),c.push(b.initLoadImage(a)),c.push(b.initLoadImageBg(a)),c},b}(jQuery);