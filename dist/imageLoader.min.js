var ImageLoader=function(a){var b={},c=".imlo_status-parent",d=function(a){var b=a.closest(c);a.addClass("loaded"),b.addClass("loaded")};return b.setStatus=!0,b.preloadImages=function(b,c){for(var d=a.Deferred(),e=0,f=function(){e++,e===b.length&&d.resolve()},g=0;g<b.length;g++){var h=b[g],i=new Image;i.src=h,imagesLoaded(i,f)}return c&&setTimeout(function(){e!==b.length&&console.log("preloadImages: timeout exceeded. Loaded:",e,"/",b.length),d.reject()},c),d.promise()},b.setLoadStatus=function(b){for(var c=a.Deferred(),e="0",f=function(a){return function(){d(a),e++,e===b.length&&c.resolve()}},g=0;g<b.length;g++){var h=b[g],i=a(h);imagesLoaded(h,f(i,$loadParent))}return c.promise()},b.loadImage=function(b){for(var c=a.Deferred(),e="0",f=function(b,f){return function(){b.append(f),d(a(f)),e++,e===$imgs.length&&c.resolve()}},g=0;g<b.length;g++){var h=a(b[g]),i=new Image;i.src=h.data("img"),imagesLoaded(i,f(h,i,$loadParent))}return c.promise()},b.loadImageBg=function(b){for(var c=a.Deferred(),e="0",f=function(a,b){return function(){a.css("background-image",'url("'+b+'")'),d(a),e++,e===$imgs.length&&c.resolve()}},g=0;g<b.length;g++){var h=a(b[g]),i=h.data("img"),j=new Image;j.src=i,imagesLoaded(j,f(h,i,$loadParent))}return c.promise()},b.initLoadStatus=function(c){c=c||a("body");var d=c.find(".imlo_loadstatus");b.setLoadStatus(d)},b.initLoadStatus=function(c){c=c||a("body");var d=c.find(".imlo_load");b.loadImage(d)},b.initLoadStatus=function(c){c=c||a("body");var d=c.find(".imlo_loadbg");b.loadImageBg(d)},b}(jQuery);